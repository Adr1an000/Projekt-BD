@model TouristInformationVM


<div class="page info">
    <div class="sidebar">
        <div class="expand">
            <button type="button" class="toggle-button expand__button" data-show="expand-region">
                <p>Region</p>
            </button>
            <div class="expand__content" id="expand-region">
                <div class="checkbox-group">
                    <input type="checkbox" id="region1" name="region1" value="region1">
                    <label for="region1"> Region 1</label><br>
                    <input type="checkbox" id="region2" name="region1" value="region1">
                    <label for="region2"> Region 2</label><br>
                </div>
            </div>
            <a class="navbar__link" asp-area="" asp-controller="TouristInformation" asp-action="GeneratePdf">
                <li class="navbar__item">Generuj raport</li>
            </a>
        </div>
    </div>
    <div class="info__list" id="info__list">
    </div>
    <script type="module">
        import Attraction from "./js/attraction.js";
        import Trail from "./js/trail.js";
        import Shelter from "./js/shelter.js";
        import Party from "./js/party.js";
        window.addEventListener("load", () => {
            initToggleButtons();

            let itemArray = [];
            let attraction = {};
            let trail = {};
            let shelter = {};
            let party = {};
            @foreach(var attraction in Model.attractions.GetAllAttractionToUser())
            {
            <text>
            attraction = new Attraction("@Html.Raw(attraction.AttractionType)");
            attraction.name = "@Html.Raw(attraction.Name)";
            attraction.region = "@Html.Raw(attraction.Region.Name)";
            attraction.description = "@Html.Raw(attraction.Description)";
            itemArray.push(attraction);
            </text>
            }
            @foreach(var trail in Model.trails.GetAllTrailToUser())
            {
            <text>
            trail = new Trail();
            trail.name = "@Html.Raw(trail.Name)";
            trail.colour = "@Html.Raw(trail.Colour)";
            trail.length = "@Html.Raw(trail.Length)";
            trail.difficulty = "@Html.Raw(trail.Difficulty)";
            trail.open = "@Html.Raw(trail.Open)";
            trail.feedback = "@Html.Raw(trail.Feedback)";
            trail.description = "@Html.Raw(trail.Description)";
            itemArray.push(trail);
            </text>
            }
            @foreach(var shelter in Model.shelters.GetAllShelterToUser())
            {
            <text>
            shelter = new Shelter();
            shelter.name = "@Html.Raw(shelter.Name)";
            shelter.region = "@Html.Raw(shelter.Region.Name)";
            shelter.places = "@Html.Raw(shelter.Places)";
            shelter.maxPlaces = "@Html.Raw(shelter.MaxPlaces)";
            shelter.open = "@Html.Raw(shelter.IsOpen)";
            shelter.phoneNumber = "@Html.Raw(shelter.PhoneNumber)";
            shelter.description = "@Html.Raw(shelter.Description)";
            itemArray.push(shelter);
            </text>
            }
            @foreach(var party in Model.parties.GetAllPartyToUser())
            {
            <text>
            party = new Party();
            party.name = "@Html.Raw(party.Name)";
            party.region = "@Html.Raw(party.Region.Name)";
            party.placeDescription = "@Html.Raw(party.PlaceDescription)";
            party.upToDate = "@Html.Raw(party.UpToDate)";
            party.description = "@Html.Raw(party.Description)";
            itemArray.push(party);
            </text>
            }

            let infoPage = new InfoPage(itemArray);
            infoPage.renderItems();
        });
    </script>
</div>

